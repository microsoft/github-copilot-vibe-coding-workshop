# 製品要求仕様書 (PRD)

## 製品タイトル

シンプルソーシャルメディアアプリケーション

## 文書バージョン

1.0.0

## 作成者

Contoso プロダクトオーナー / テックリード

## 最終更新日

2025-05-30

---

## 1. 概要

このプロジェクトの目標は、ユーザーが投稿の作成、取得、更新、削除、コメントの追加、投稿のいいね/いいね取り消しを行える、基本的だが機能的なソーシャルネットワーキングサービス（SNS）を構築することです。APIファーストアプローチにより、Webまたはモバイルフロントエンドのバックエンドとして使用できることを保証します。

## 2. 背景

Contosoは様々なアウトドア活動用製品を販売する会社です。Contosoのマーケティング部門は、既存顧客と潜在顧客に向けて製品をプロモートするためのマイクロソーシャルメディアWebサイトを立ち上げたいと考えています。最初のMVPとして、マーケティング部門はウェブサイトを迅速に構築したいと考えています。

## 3. 目標とゴール

* ユーザー生成コンテンツ（投稿）のCRUD操作を提供する。
* コメントといいねを通じてソーシャルインタラクションを可能にする。
* 教育およびMVPユースケースのためのシンプルさを維持する。
* RESTful API設計と適切なエラーハンドリングを保証する。

## 4. 主要機能

### 4.1 投稿管理

* **投稿一覧**

  * **GET** `/api/posts`
  * ユーザーストーリー: ユーザーとして、他の人が共有していることを閲覧できるよう、最近の投稿をすべて見たい。

* **投稿作成**

  * **POST** `/api/posts`
  * 必須: `username`, `content`
  * ユーザーストーリー: ユーザーとして、他の人と何かを共有するために新しい投稿を作成したい。

* **単一投稿取得**

  * **GET** `/api/posts/{postId}`
  * ユーザーストーリー: ユーザーとして、特定の投稿を詳細に読みたい。

* **投稿更新**

  * **PATCH** `/api/posts/{postId}`
  * 必須: `username`, `content`
  * ユーザーストーリー: ユーザーとして、間違いがあったり追加したいことがある場合、投稿を更新したい。

* **投稿削除**

  * **DELETE** `/api/posts/{postId}`
  * ユーザーストーリー: ユーザーとして、もう共有したくない場合、投稿を削除したい。

### 4.2 コメント管理

* **投稿のコメント一覧**

  * **GET** `/api/posts/{postId}/comments`
  * ユーザーストーリー: ユーザーとして、投稿のすべてのコメントを読みたい。

* **コメント作成**

  * **POST** `/api/posts/{postId}/comments`
  * 必須: `username`, `content`
  * ユーザーストーリー: ユーザーとして、自分の考えを共有するために投稿にコメントしたい。

* **特定コメント取得**

  * **GET** `/api/posts/{postId}/comments/{commentId}`
  * ユーザーストーリー: ユーザーとして、特定のコメントを詳細に見たい。

* **コメント更新**

  * **PATCH** `/api/posts/{postId}/comments/{commentId}`
  * 必須: `username`, `content`
  * ユーザーストーリー: ユーザーとして、コメントを修正または改訂したい。

* **コメント削除**

  * **DELETE** `/api/posts/{postId}/comments/{commentId}`
  * ユーザーストーリー: ユーザーとして、必要に応じてコメントを削除したい。

### 4.3 いいねシステム

* **投稿にいいね**

  * **POST** `/api/posts/{postId}/likes`
  * 必須: `username`
  * ユーザーストーリー: ユーザーとして、評価を示すために投稿にいいねしたい。

* **投稿のいいね取り消し**

  * **DELETE** `/api/posts/{postId}/likes`
  * ユーザーストーリー: ユーザーとして、気が変わった場合にいいねを取り消したい。

## 5. ユーザーロールと権限

* **匿名ユーザー**
  * 投稿とコメントを読むことができる。

* **認証されたユーザー（usernameフィールド経由）**
  * 自分の投稿とコメントを作成、更新、削除することができる。
  * 投稿にいいね/いいね取り消しができる。

## 6. API契約

* 最低でもv3.0.1仕様でOpenAPI文書を定義する。
* 標準HTTPステータスコードを使用する。
  * `200 OK`, `201 Created`, `204 No Content`, `400 Bad Request`, `404 Not Found`, `500 Internal Server Error`
* Content-Type: `application/json`

## 7. 非機能要件

* **ドキュメント**: APIはSwagger UIを使用して完全に文書化されるべきである。
* **セキュリティ**: 完全な認証が実装されていなくても、入力検証と基本的なリクエスト検証を行う。

## 8. 前提条件と依存関係

* この製品にはメモリDBを使用する。
* ファイルアップロードやメディアサポートは含まれない。
* ユーザー登録やログイン/認証フローはない。
* テストコードは不要。

## 9. 成功指標

* すべてのAPIエンドポイントが到達可能で、文書化された通りに応答する。
* 投稿、コメント、いいね、リソースの削除がエンドツーエンドで可能。
* OpenAPIから生成された明確なSwaggerドキュメント。

## 10. 対象外

* ユーザー認証（OAuth、JWTなど）
* リアルタイム更新や通知
* モデレーションツールやレポート機能
* マルチメディアアップロード（画像、動画）

---

**免責事項**: この文書は[GitHub Copilot](https://docs.github.com/copilot/about-github-copilot/what-is-github-copilot)によってローカライズされています。そのため、間違いを含む可能性があります。不適切または間違った翻訳を見つけた場合は、[issue](https://github.com/microsoft/github-copilot-vibe-coding-workshop/issues/new)を作成してください。
